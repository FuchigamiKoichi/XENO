<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>XENO - ゲーム</title>
  <link rel="stylesheet" href="./styles/game.css" />
</head>
<body>
  <div class="game-screen" id="gameScreen" style="display:flex;">
    <div id="turn-timer-container">
      <div id="turn-timer-bar"></div>
    </div>

    <!-- 待機中の部屋ID表示 -->
    <div id="waiting-info">
      <p>対戦相手を待っています...</p>
      <p id="room-id-display"></p>
      <button id="copy-room-id-btn">部屋IDをコピー</button>
      <p>このIDを参加者に伝えてください。</p>
      <button id="select-cpu-btn">CPUと対戦</button>
    </div>

    <!-- 左カラム（ログ） -->
    <div id="left-column">
      <div id="log-area">
        <h3>ログ</h3>
        <div id="log-messages"></div>
      </div>
    </div>

    <h2>対戦画面</h2>

    <div id="buttonGroup">
      <button id="backToTitle" onclick="goToTitle()">タイトル画面に戻る</button>
      <button id="surrenderButton" onclick="surrender()">投降する</button>
      <button id="ruleButton">ルール説明</button>
    </div>

    <div id="select-container"></div>
    <div id="show-container"></div>
    <div id="showResult"></div>

    <!-- 相手の中央エリア -->
    <div id="opponent-center-area">
      <div id="opponent-playArea">相手のプレイエリア</div>
      <div id="opponent-hand" class="hand-zone"></div>
    </div>

    <!-- 使用済みカード モーダル -->
    <div id="usedCardsModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeUsedCards()">&times;</span>
        <h2>使用済みカード</h2>
        <div id="usedCardsList"></div>
      </div>
    </div>

    <!-- ルール説明モーダル -->
    <div id="ruleModal" style="display:none;">
      <div id="modal-content">
        <span id="closeRule" style="cursor:pointer;">&times</span>
        <h2>ZENOのルール</h2>
        <div class="tab-buttons">
          <button class="tab-btn active" data-target="page1">基本ルール</button>
          <button class="tab-btn" data-target="page2">カードの種類</button>
          <button class="tab-btn" data-target="page3">勝利条件</button>
        </div>
        <div class="tab-content active" id="page1">
          <p>カードには強さを示す1〜10までの数字が…（略）</p>
        </div>
        <div class="tab-content" id="page2">
          <h2>少年</h2>
          <h3>カード効果【革命】</h3>
          <p>…（略）</p>
        </div>
        <div class="tab-content" id="page3">
          <p>これは勝利条件の説明です。</p>
        </div>
      </div>
    </div>

    <!-- 山札とプレイエリア -->
    <div id="deck-container">
      <div id="deck-count">残り枚数:17</div>
      <div id="side-card-container"></div>
    </div>

    <div id="center-area">
      <div id="player-hand" class="hand-zone"></div>
      <div id="playArea">プレイエリア</div>
    </div>

    <div id="turnIndicator">あなたのターンです</div>
    <div id="second_turn">相手のターンです</div>

    <!-- カード拡大表示 -->
    <div id="cardZoom">
      <img id="zoomedCard" src="" alt="拡大カード" />
      <div id="effectDescription" class="effect-text"></div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script defer src="./js/game.js"></script>
</body>
</html>